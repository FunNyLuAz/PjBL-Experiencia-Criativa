{% extends "template.html" %}

{% block title %}
<title>Selecionar Planta</title>
{% endblock %}

{% block content %}
<div class="container">
    {{ page_macros.flash_verifier() }}
    <div class="container forms shadow-sm p-3 bg-white border border-secondary rounded">

      <form action="sensors_select" method="POST">
        <div class="form-group">
          {% if sensors != None %}
          <label for="choice">Escolha uma opção:</label>
          <select class="form-control" id="choice" name="choice">
              <option value="{{ None }}">Selecione o Sensor</option>
                {% for sensor in sensors %}
                    <option value="{{ sensor }}"> {{ sensor.name }} </option>
                {% endfor %}
                <button type="submit" class="btn btn-primary">Enviar</button>
              {% else %}
                <p> Ainda não há sensores registrados </p>
                <span><a href="create_sensor">Inserir sensor</a></span> <br>
              {% endif %}
          </select>
        </div>
      </form>
    
      <div class="row my-2 justify-content-center">
        {% if sensors %}
          <div class="col-md-6 justify-content-center shadow-sm p-3 bg-white border border-secondary rounded">
              <h2 class="text-center mb-0"> {{ resultado }}</h2>
              <h3 class="text-center mb-0 ">Ultimo Registro : working... </h3>
              <div class="shadow-sm p-3 bg-white border border-secondary rounded">
                  <ul>
                      <p class="text-left mb-0 "> Registros anteriores </p>
                      <li> working..... </li>
                  </ul>
              </div>
          </div>
        {% endif %}
      </div>
      
    </div>
</div>
{% endblock content %}
